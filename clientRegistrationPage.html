<!DOCTYPE html>
<html lang="en">
<head>


	<style>
	.container{
		display: flex;
		justify-content: center;
		align-items: center;
		min-height: 100%;  /* Fallback for browsers do NOT support vh unit */
		min-height: 100vh;
		opacity: 0.9;
		padding: 5em inherit;
	}
	textarea {
    resize: none;
	}




	body {
	}
	</style>
	<title>Registration</title>

	<meta charset="utf-8">

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<script
	src="https://code.jquery.com/jquery-3.3.1.js"
	integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
	crossorigin="anonymous"></script>


	<script
	src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"
	integrity="sha256-0YPKAwZP7Mp3ALMRVB2i8GXeEndvCq3eSl/WsAl1Ryk="
	crossorigin="anonymous"></script>
	<script>


	

	$(document).ready(function(){
		var password = $("#password").val();
		var cpassword = $("#cpassword").val();

		if (password != cpassword){
        $("#divCheckPasswordMatch").html("Passwords do not match!");
    }

		$("#next").click(function(){

			var email= $("#email").val();
			var cname = $("#cname").val();
			var street = $("#street").val();
			var city = $("#city").val();
			var state = $("#state").val();
			var zipcode = $("#zipcode").val();
			var website = $("#website").val();
			var cdescription = $("#cdescription").val();
			var password = $("#password").val();
			var cpassword = $("#cpassword").val();

			
			/*
						{
		         "email": "eric.blackmon@uzo.com",
		         "city": "Chantilly",
		         "street": "street",
		         "zip_code": "30763",
		         "state": "Va",
		         "website_link": "uzo.com",
		         "company_name": "UZO",
		         "password":"281330800fB",
		         "description": "chillen"
		        }
			*/

			var registrationInfo = {
				email:email,
				company_name: cname,
				street: street,
				city: city,
				state: state,
				zip_code: zipcode,
				website_link: website,
				description:cdescription,
				password: password
			}

			var ajaxFunction= function (){
				return $.ajax({
					type: 'POST',
					contentType: "application/json",
					url: 'https://uzo-web-app.herokuapp.com/insert_company',
					data:JSON.stringify(registrationInfo)
				}).done(function(data) {
					var result= JSON.parse(data);

					sessionStorage.setItem("company_id",result.company_id);

				});
			}


			if(!cname || !street  ||!city  || !state  || !zipcode  || !website || !cdescription || !cpassword|| !password|| !email){
				alert("You must fill in required fields!");
			}else{
				$.when(ajaxFunction()).done(function(a1){
					console.log(response);
						window.location.replace("clientegistrationPage2.html")

				});

				$("#next").prop("disabled",false);
			}
		});
	});
	
	</script>
</head>

<body>
	<div class="jumbotron">
		<h1 align="center">Client Registration</h1>
		<p align="center">Please fill out this form correctly.</p>
	</div>
	<div class="progress">
		<div class="progress-bar" role="progressbar" style="width: 50%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
	</div>
	<div id="login-overlay" class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<div class="panel-title text-center">
					<h1 class="title">Step 1: Company Information</h1>
				</div>
			</div>
			<div class="modal-body">
				<form id="registerForm" method="POST">
					<div class="form-group">
							<label for="name">Company Name</label>
							<div class="input-group">
								<input type="text" class="form-control" name="cname" id="cname"placeholder="What is your company's name?"/>
								<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
							</div>
							<br>
							<label for="name">Company Email</label>
							<div class="input-group">
								<input type="text" class="form-control" name="email" id="email"placeholder="What is your company's email?"/>
								<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
							</div>
							<br>
							<label for="name" >Street</label>
							<div class="input-group">
								<input type="text" class="form-control" name="street" id="street" placeholder="Enter The Street"/>
								<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
							</div>
							<br>
							<label for="name" >City</label>
							<div class="input-group">
								<input type="text" class="form-control" name= "city" id="city" placeholder="Enter The City"/>
								<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
							</div>
							<br>
							<label for="state">State</label>
							<div >
								<select class="form-control" id="state" name="state">
									<option value="">N/A</option>
									<option value="AK">Alaska</option>
									<option value="AL">Alabama</option>
									<option value="AR">Arkansas</option>
									<option value="AZ">Arizona</option>
									<option value="CA">California</option>
									<option value="CO">Colorado</option>
									<option value="CT">Connecticut</option>
									<option value="DC">District of Columbia</option>
									<option value="DE">Delaware</option>
									<option value="FL">Florida</option>
									<option value="GA">Georgia</option>
									<option value="HI">Hawaii</option>
									<option value="IA">Iowa</option>
									<option value="ID">Idaho</option>
									<option value="IL">Illinois</option>
									<option value="IN">Indiana</option>
									<option value="KS">Kansas</option>
									<option value="KY">Kentucky</option>
									<option value="LA">Louisiana</option>
									<option value="MA">Massachusetts</option>
									<option value="MD">Maryland</option>
									<option value="ME">Maine</option>
									<option value="MI">Michigan</option>
									<option value="MN">Minnesota</option>
									<option value="MO">Missouri</option>
									<option value="MS">Mississippi</option>
									<option value="MT">Montana</option>
									<option value="NC">North Carolina</option>
									<option value="ND">North Dakota</option>
									<option value="NE">Nebraska</option>
									<option value="NH">New Hampshire</option>
									<option value="NJ">New Jersey</option>
									<option value="NM">New Mexico</option>
									<option value="NV">Nevada</option>
									<option value="NY">New York</option>
									<option value="OH">Ohio</option>
									<option value="OK">Oklahoma</option>
									<option value="OR">Oregon</option>
									<option value="PA">Pennsylvania</option>
									<option value="PR">Puerto Rico</option>
									<option value="RI">Rhode Island</option>
									<option value="SC">South Carolina</option>
									<option value="SD">South Dakota</option>
									<option value="TN">Tennessee</option>
									<option value="TX">Texas</option>
									<option value="UT">Utah</option>
									<option value="VA">Virginia</option>
									<option value="VT">Vermont</option>
									<option value="WA">Washington</option>
									<option value="WI">Wisconsin</option>
									<option value="WV">West Virginia</option>
									<option value="WY">Wyoming</option>
								</select>
							</div>
							<br>

							<label for="number" >Zipcode</label>
							<div class="input-group">
								<input type="text" class="form-control" name="zipcode" id="zipcode" placeholder="Enter The Zipcode"/>
								<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
							</div>
							<br>
							<label for="name">Website</label>
							<div class="input-group">
								<input type="text" class="form-control" name="website" id="website" placeholder="What is your company website?"/>
								<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
							</div>
							<br>
							<label for="name" >Company Description</label>
							<div class="input-group">
								<textarea rows="4" cols="75" placeholder="In a few sentences, tell us what your company do?">
								</textarea>
							</div>
							<br>
							<label for="name" >Password</label>
							<div class="input-group">
								<input type="password" class="form-control" name="password" id="password" placeholder="Password"/>
								<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
							</div>
							<div class="input-group">
								<input type="password" class="form-control" name="cpassword" id="cpassword" placeholder="Confirm Password"/>
								<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
							</div>
							</div>
							    <div class="registrationFormAlert" id="divCheckPasswordMatch">
							</div>
							<hr>
					</div>
					<div class="form-group ">
						<div class="input-group-addon">
							<button type="button" class="btn btn-success pull-right" id="next">Next</button>
						</div>
					</div>

				</form>
			</div>
		</div>
	</div>


</body>
</html>
